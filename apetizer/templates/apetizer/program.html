{% extends 'content/page.html' %}
{% load static %}
{% block extra-scripts %}
{{ block.super }}
<script src="{% static 'components/codemirror/lib/codemirror.js' %}"></script>
<script src="{% static 'components/codemirror/mode/python/python.js' %}"></script>

<script src="/static/components/handsontable/handsontable.full.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){
var container = document.getElementById('program_table');
var data = [
      ['',''],
      ['',''],
    ];
    
var hot = new Handsontable(container, {
  data: data,
  minSpareRows: 1,
  rowHeaders: true,
  colHeaders: true,
  contextMenu: false,
  
  manualColumnResize: true,
  manualRowResize: true,
  
  colWidths: [128,128],
  rowHeights: [32,32],
  
});});

var macroEditor = CodeMirror(document.getElementById('program-editor'), {
  value: "import os\n",
  mode:  "python"
});


</script>
{% endblock %}

{% block extra-styles %}
{{ block.super }}
<link rel="stylesheet" media="screen" href="/static/components/handsontable/handsontable.full.min.css">
{% endblock %}

{% block page_container %}
<div class="ui ten wide column" style="position:relative;">
    <div id="program_table" style="position:relative;overflow:hidden;background:gray;height:720px;width:100%" ></div>
</div>
<div class="ui six wide column" style="position:relative;">
    <div class="ui form" id="program-editor" style="min-height:640px"></div>
    
    <input type="hidden" name="macros" id="id_macros" value="" />
    <button class="ui label">Save</button>
</div>
<div class="ui sixteen wide column" style="position:relative;">
    <div class="ui segment" >
        {% for key, table in tables %}
            <a href="program/?table={{forloop.count}}" class="ui button" >{{ key }}</a>
        {% endfor %}
    </div>
</div>
{{ block.super }}
{% endblock %}

{% block content %}
<div class="ui vertical segments">
    <div class="ui hidden segment">
        {% include 'apetizer/tags/action_forms.html' %}
    </div>
    <div class="ui segment">
        <a href="download/" class="ui button" >download</a>
        <a href="file/" class="ui button" >upload (replace)</a>
        <a href="" class="ui button" >merge (update)</a>
        <a href="" class="ui button" >execute</a>
    </div>
</div>
{{ block.super }}
{% endblock %}

{% block side_content %}

{% endblock %}